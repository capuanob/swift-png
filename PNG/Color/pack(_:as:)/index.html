<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Livvic:ital,wght@0,300;0,400;0,500;0,600;1,400;1,500;1,600&display=swap" rel="stylesheet"> 

    <link href="https://kelvin13.github.io/png/style.css" rel="stylesheet"> 
    <title>pack(_:as:) - Swift PNG Documentation</title>
</head> 
<body>
    <main><nav><div class="navigation-container"><ul><li class="github-icon-container"><a href="https://github.com/kelvin13/png"><span class="github-icon" title="Github repository"></span></a></li><li><a href="https://kelvin13.github.io/png/">Documentation</a></li><li><a href="https://kelvin13.github.io/png/PNG">PNG</a></li><li><a href="https://kelvin13.github.io/png/PNG/Color">Color</a></li><li><span>pack(_:as:)</span></li></ul></div></nav><section class="introduction"><div class="section-container"><div class="eyebrow">Static Method</div><h1 class="topic-heading">pack(_:as:)</h1><p class="topic-blurb">Packs an array of this color target to an image data storage buffer. </p><p class="topic-relationships"><strong>Required.</strong> <br/>Default implementation provided when <code><span class="syntax-group"><a class="syntax-type" href="https://kelvin13.github.io/png/PNG/Color/Aggregate">Aggregate</a></span></code> is <code><span class="syntax-group"><span class="syntax-punctuation">(</span><a class="syntax-type syntax-swift-type" href="https://developer.apple.com/documentation/swift/uint8">UInt8</a><span class="syntax-punctuation">,</span> </span><span class="syntax-group"><a href="https://developer.apple.com/documentation/swift/uint8" class="syntax-type syntax-swift-type">UInt8</a><span class="syntax-punctuation">)</span></span></code>.<br/>Default implementation provided when <code><span class="syntax-group"><a href="https://kelvin13.github.io/png/PNG/Color/Aggregate" class="syntax-type">Aggregate</a></span></code> is <code><span class="syntax-group"><span class="syntax-punctuation">(</span><a href="https://developer.apple.com/documentation/swift/uint8" class="syntax-type syntax-swift-type">UInt8</a><span class="syntax-punctuation">,</span> </span><span class="syntax-group"><a href="https://developer.apple.com/documentation/swift/uint8" class="syntax-type syntax-swift-type">UInt8</a><span class="syntax-punctuation">,</span> </span><span class="syntax-group"><a class="syntax-type syntax-swift-type" href="https://developer.apple.com/documentation/swift/uint8">UInt8</a><span class="syntax-punctuation">,</span> </span><span class="syntax-group"><a href="https://developer.apple.com/documentation/swift/uint8" class="syntax-type syntax-swift-type">UInt8</a><span class="syntax-punctuation">)</span></span></code>.</p></div></section><section class="discussion"><div class="section-container"><h2>Declaration</h2><div class="declaration-container"><code class="declaration"><span class="syntax-group"><span class="syntax-keyword">static</span> </span><span class="syntax-group"><span class="syntax-keyword">func</span> </span><span class="syntax-group"><span class="syntax-identifier">pack</span><span class="syntax-punctuation">(</span><span class="syntax-keyword">_</span><span class="syntax-whitespace">&nbsp;</span><span class="syntax-identifier">pixels</span><span class="syntax-punctuation">:</span><a href="https://developer.apple.com/documentation/swift/array" class="syntax-type syntax-swift-type syntax-punctuation">[</a><a class="syntax-type" href="https://kelvin13.github.io/png/PNG/Color">Self</a><a href="https://developer.apple.com/documentation/swift/array" class="syntax-type syntax-swift-type syntax-punctuation">]</a><span class="syntax-punctuation">,</span> </span><span class="syntax-group"><span class="syntax-identifier">as</span><span class="syntax-whitespace">&nbsp;</span><span class="syntax-identifier">format</span><span class="syntax-punctuation">:</span><a href="https://kelvin13.github.io/png/PNG/Format" class="syntax-type">Format</a><span class="syntax-punctuation">)</span> </span><span class="syntax-group"><span class="syntax-punctuation">-&gt;</span><span class="syntax-whitespace">&nbsp;</span><a class="syntax-type syntax-swift-type syntax-punctuation" href="https://developer.apple.com/documentation/swift/array">[</a><a class="syntax-type syntax-swift-type" href="https://developer.apple.com/documentation/swift/uint8">UInt8</a><a class="syntax-type syntax-swift-type syntax-punctuation" href="https://developer.apple.com/documentation/swift/array">]</a></span></code></div><h2>Parameters</h2><dl class="parameter-list"><dt><code>pixels</code></dt><dd><p>A pixel array containing instances of this color target. </p></dd><dt><code>format</code></dt><dd><p>The color format to pack the given pixels as in the returned data buffer. </p><p>When the library uses an implementation of this function to construct a <code><span class="syntax-group"><a href="https://kelvin13.github.io/png/PNG/Data/Rectangular" class="syntax-type">Rectangular</a></span></code> image, this color format will be stored in its <code><span class="syntax-group"><a href="https://kelvin13.github.io/png/PNG/Data/Rectangular/layout" class="syntax-type">layout</a><span class="syntax-punctuation">.</span><a href="https://kelvin13.github.io/png/PNG/Layout/format" class="syntax-type">format</a></span></code> property. </p></dd></dl><h2>Return value</h2><p>An image data buffer. The packed samples in this buffer should appear in the same order as the pixels in the <code>pixels</code> array. (But not necessarily in the same order within each individual pixel.) </p><p>When the library uses an implementation of this function to construct a <code><span class="syntax-group"><a href="https://kelvin13.github.io/png/PNG/Data/Rectangular" class="syntax-type">Rectangular</a></span></code> image, this data buffer will be stored in its <code><span class="syntax-group"><a href="https://kelvin13.github.io/png/PNG/Data/Rectangular/storage" class="syntax-type">storage</a></span></code> property. </p><h2>Overview</h2><p>If <code><span class="syntax-group"><a href="https://kelvin13.github.io/png/PNG/Color/Aggregate" class="syntax-type">Aggregate</a></span></code> is <code><span class="syntax-group"><span class="syntax-punctuation">(</span><a class="syntax-type syntax-swift-type" href="https://developer.apple.com/documentation/swift/uint8">UInt8</a><span class="syntax-punctuation">,</span> </span><span class="syntax-group"><a class="syntax-type syntax-swift-type" href="https://developer.apple.com/documentation/swift/uint8">UInt8</a><span class="syntax-punctuation">)</span></span></code>, the default implementation of this function will search for a matching palette entry by treating the first member of the palette aggregate as the red, green, and blue components, and the second member as the alpha component, when packing to an indexed color format. </p><p>If <code><span class="syntax-group"><a href="https://kelvin13.github.io/png/PNG/Color/Aggregate" class="syntax-type">Aggregate</a></span></code> is <code><span class="syntax-group"><span class="syntax-punctuation">(</span><a class="syntax-type syntax-swift-type" href="https://developer.apple.com/documentation/swift/uint8">UInt8</a><span class="syntax-punctuation">,</span> </span><span class="syntax-group"><a class="syntax-type syntax-swift-type" href="https://developer.apple.com/documentation/swift/uint8">UInt8</a><span class="syntax-punctuation">,</span> </span><span class="syntax-group"><a class="syntax-type syntax-swift-type" href="https://developer.apple.com/documentation/swift/uint8">UInt8</a><span class="syntax-punctuation">,</span> </span><span class="syntax-group"><a class="syntax-type syntax-swift-type" href="https://developer.apple.com/documentation/swift/uint8">UInt8</a><span class="syntax-punctuation">)</span></span></code>, the default implementation of this function will search for a matching palette entry by treating the first member of the palette aggregate as the red component, the second member as the green component, the third member as the blue component, and the fourth member as the alpha component, when packing to an indexed color format. </p><p>In either case, if more than one palette entry matches, the matching entry is chosen arbitrarily. If there is no matching palette entry, it chooses the first palette entry. </p><p>See the <a href="https://github.com/kelvin13/png/tree/master/examples#using-indexed-images" target="_blank">indexed color tutorial</a> for more about the semantics of the default implementations. </p></div></section><section class="topics"><div class="section-container"><h2>Topics</h2><div class="topic"><div class="topic-container-right"><h3>See also</h3></div><div class="topic-container-left"><div class="topic-container-symbol"><code class="signature"><a href="https://kelvin13.github.io/png/PNG/Color/pack%28_%3Aas%3Aindexer%3A%29"><span class="signature-group"><span class="signature-text">static</span></span><span class="signature-group"> <span class="signature-text">func</span></span><span class="signature-group"> <span class="signature-highlight">pack</span><span class="signature-punctuation">(</span><span class="signature-punctuation">[</span><span class="signature-text">Self</span><span class="signature-punctuation">]</span><span class="signature-punctuation">,</span></span><span class="signature-group"> <span class="signature-highlight">as</span><span class="signature-punctuation">:</span><span class="signature-text">Format</span><span class="signature-punctuation">,</span></span><span class="signature-group"> <span class="signature-highlight">indexer</span><span class="signature-punctuation">:</span><span class="signature-punctuation">(</span><span class="signature-punctuation">[</span><span class="signature-punctuation">(</span><span class="signature-text">r</span><span class="signature-punctuation">:</span><span class="signature-text">UInt8</span><span class="signature-punctuation">,</span></span><span class="signature-group"> <span class="signature-text">g</span><span class="signature-punctuation">:</span><span class="signature-text">UInt8</span><span class="signature-punctuation">,</span></span><span class="signature-group"> <span class="signature-text">b</span><span class="signature-punctuation">:</span><span class="signature-text">UInt8</span><span class="signature-punctuation">,</span></span><span class="signature-group"> <span class="signature-text">a</span><span class="signature-punctuation">:</span><span class="signature-text">UInt8</span><span class="signature-punctuation">)</span><span class="signature-punctuation">]</span><span class="signature-punctuation">)</span></span><span class="signature-group"> <span class="signature-text">-&gt;</span></span><span class="signature-group"> <span class="signature-punctuation">(</span><span class="signature-text">Aggregate</span><span class="signature-punctuation">)</span></span><span class="signature-group"> <span class="signature-text">-&gt;</span></span><span class="signature-group"> <span class="signature-text">Int</span><span class="signature-punctuation">)</span></span><span class="signature-group"> <span class="signature-punctuation">-&gt;</span></span><span class="signature-group"> <span class="signature-punctuation">[</span><span class="signature-text">UInt8</span><span class="signature-punctuation">]</span></span></a></code><p class="topic-symbol-blurb">Packs an array of this color target to an image data storage buffer, using a custom indexing function. </p><p class="topic-symbol-relationships"><strong>Required.</strong></p></div></div></div></div></section></main>
</body>
</html>